<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestão de Recursos - Wayne Industries</title>
    <link rel="stylesheet" href="css/resource-management.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&family=Ubuntu:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="navbar">
      <a href="resource-management.html">Gerenciamento de Recursos</a>
      <a href="dashboard2.html">Dashboard</a>
    </div>
    <div class="content">
      <div class="resource-management-container">
        <h1>Gerenciamento de Recursos</h1>
        <form id="resourceForm">

          <div class="input-group">
            <label for="resourceName">Nome do Recurso</label>
            <input type="text" id="resourceName" required />
          </div>

          <div class="input-group">
            <label for="resourceQuantity">Quantidade</label>
            <input type="number" id="resourceQuantity" required />
          </div>

          <div class="input-group">
            <label for="resourceCategory">Categoria</label>
            <select id="resourceCategory" required>
              <option value="Veiculo">Veiculo</option>
              <option value="Equipamento">Equipamento</option>
              <option value="Vestuario">Vestuario</option>
              <option value="Dispositivo de Seguranca">Dispositivo de Seguranca</option>
            </select>
          </div>

          <div class="input-group">
            <label for="resourceStatus">Status</label>
            <select id="resourceStatus" required>
              <option value="Disponível">Disponível</option>
              <option value="Em Uso">Em Uso</option>
              <option value="Danificado">Danificado</option>
              <option value="Em Manutenção">Em Manutenção</option>
            </select>
          </div>

          <div class="input-group">
            <button class="add-button" type="submit">Adicionar Recurso</button>
          </div>

        </form>
        <h2>Lista de Recursos</h2>
        <ul id="resourceList"></ul>
      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const userRole = sessionStorage.getItem('userRole');

        // Redireciona ou restringe acesso com base no papel do usuário
        if (userRole === null) {
            // Se não houver papel, redireciona para a página de login
            window.location.href = 'login.html';
        } else if (userRole === 'funcionario') {
            // Se o usuário for Funcionário, oculta funcionalidades de edição
            document.getElementById('resourceForm').style.display = 'none';
            // Você também pode redirecionar para a página de gerenciamento de recursos
        } else if (userRole === 'gerente') {

            // Se a página atual for o dashboard, redirecione
            if (window.location.href.includes('dashboard2.html')) {
                window.location.href = 'resource-management.html';
            }
        }
    });
    </script>
    <script type="module" src="js/resource-management.js" defer></script>
    
  </body>
</html>
